<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="club.pypzx.FootballSystem.dao.UserMapper">
	<insert id="insertUser" useGeneratedKeys="true"
		keyColumn="username" keyProperty="username">
		INSERT INTO pypzx_user (username,
		password)
		VALUES(#{username},#{password})
	</insert>
	<select id="queryUser"
		parameterType="club.pypzx.FootballSystem.entity.User"
		resultType="club.pypzx.FootballSystem.entity.User">
		select * from pypzx_user
		<where>
			<if test="username!=null">AND username=#{username}</if>
			<if test="password!=null">AND password=#{password}</if>
		</where>
		LIMIT 1
	</select>
	<select id="queryUserList"
		resultType="club.pypzx.FootballSystem.entity.User">
		select username, password from pypzx_user ORDER BY
		username ASC LIMIT #{rowIndex},#{pageSize}
	</select>
	<select id="queryUserListCount" resultType="Integer">
		select count(*) FROM
		pypzx_user
	</select>
	<delete id="deleteUser">
		delete from pypzx_user where
		username=#{username}
	</delete>
	<update id="updateUser">
		UPDATE pypzx_user
		<set>
			<if test="password!=null">password=#{password},</if>
		</set>
		WHERE username=#{username}
	</update>
	<select id="queryUserByName" resultType="boolean">
		select count(username)
		from pypzx_user where username=#{username}
	</select>
</mapper> 